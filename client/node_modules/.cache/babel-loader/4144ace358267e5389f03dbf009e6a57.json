{"ast":null,"code":"var _jsxFileName = \"/Users/minseoksakong/Desktop/react/client/src/Component/Post/Detail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { PostDiv, Post, BtnDiv, SpinnerDiv } from \"../../Style/PostDetailCSS.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Detail() {\n  _s();\n\n  let params = useParams();\n  const [PostInfo, setPostInfo] = useState({});\n  const [Flag, setFlag] = useState(false);\n  useEffect(() => {\n    let body = {\n      postNum: params.postNum\n    };\n    axios.post(\"/api/post/detail\", body).then(response => {\n      if (response.data.success) {\n        setPostInfo(response.data.post);\n        setFlag(true);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {\n    console.log(PostInfo);\n  }, [PostInfo]);\n\n  const DeleteHandler = () => {\n    if (window.confirm(\"Are you sure?\")) {\n      let body = {\n        postNum: params.postNum\n      };\n      axios.post(\"/api/post/delete\", body).then(response => {\n        if (response.data.success) {\n          alert(\"Post deleted\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(PostDiv, {\n    children: Flag ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Post, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: PostInfo.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: PostInfo.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BtnDiv, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/edit/${PostInfo.postNum}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"edit\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete\",\n          onClick: () => DeleteHandler(),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(SpinnerDiv, {\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Detail, \"/2ZshwkckGOWQgvpGdRkb2eWClM=\", false, function () {\n  return [useParams];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","Spinner","PostDiv","Post","BtnDiv","SpinnerDiv","Detail","params","PostInfo","setPostInfo","Flag","setFlag","body","postNum","post","then","response","data","success","catch","err","console","log","DeleteHandler","window","confirm","alert","title","content"],"sources":["/Users/minseoksakong/Desktop/react/client/src/Component/Post/Detail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nimport {\n  PostDiv,\n  Post,\n  BtnDiv,\n  SpinnerDiv,\n} from \"../../Style/PostDetailCSS.js\";\nfunction Detail() {\n  let params = useParams();\n  const [PostInfo, setPostInfo] = useState({});\n  const [Flag, setFlag] = useState(false);\n  useEffect(() => {\n    let body = {\n      postNum: params.postNum,\n    };\n    axios\n      .post(\"/api/post/detail\", body)\n      .then((response) => {\n        if (response.data.success) {\n          setPostInfo(response.data.post);\n          setFlag(true);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {\n    console.log(PostInfo);\n  }, [PostInfo]);\n\n  const DeleteHandler = () => {\n    if (window.confirm(\"Are you sure?\")) {\n        let body = {\n            postNum: params.postNum,\n          };\n          axios\n            .post(\"/api/post/delete\", body)\n            .then((response) => {\n              if (response.data.success) {\n                alert(\"Post deleted\");\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        };\n    }\n\n  return (\n    <PostDiv>\n      {Flag ? (\n        <>\n          <Post>\n            <h1>{PostInfo.title}</h1>\n            <p>{PostInfo.content}</p>\n          </Post>\n          <BtnDiv>\n            <Link to={`/edit/${PostInfo.postNum}`}>\n              <button className=\"edit\">Edit</button>\n            </Link>\n            <button className=\"delete\" onClick={()=> DeleteHandler()}>\n              Delete\n            </button>\n          </BtnDiv>\n        </>\n      ) : (\n        <SpinnerDiv>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>{\" \"}\n          </Spinner>\n        </SpinnerDiv>\n      )}\n    </PostDiv>\n  );\n}\n\nexport default Detail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}